<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CheatCake Order</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Kanit', sans-serif;
    }
  </style>
</head>
<body class="bg-pink-50 min-h-screen flex items-center justify-center">
  <div class="bg-white shadow-lg rounded-xl p-8 w-full max-w-xl">
    <h1 class="text-3xl font-bold text-center text-pink-600 mb-6">üéÇ ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡πâ‡∏Å‡∏Å‡∏±‡∏ö CheatCake</h1>

    <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <form id="cakeForm" class="space-y-4">
      <input type="text" name="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required class="w-full p-3 border rounded-md" />
      <input type="tel" name="phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£" required class="w-full p-3 border rounded-md" />
      <input type="date" name="deliveryDate" required class="w-full p-3 border rounded-md" />
      <input type="text" name="customMessage" placeholder="‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å" class="w-full p-3 border rounded-md" />
      <textarea name="additionalDetails" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°" rows="3" class="w-full p-3 border rounded-md"></textarea>

      <button type="submit" class="w-full bg-pink-500 hover:bg-pink-600 text-white p-3 rounded-md font-bold">
        ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå üéÇ
      </button>
    </form>

    <!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à + ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏õ‡∏¥‡∏î LINE -->
    <div id="successMessage" class="hidden mt-6 text-green-600 text-center">
      ‚úÖ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ CheatCake üéâ<br/>
      <a href="https://line.me/R/ti/p/@cheatcake" target="_blank" 
         class="inline-block mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
        üì© ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ä‡∏ó‡∏Å‡∏±‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡πÉ‡∏ô LINE
      </a>
    </div>
  </div>

  <!-- JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
  <script>
    document.getElementById('cakeForm').addEventListener('submit', async function (e) {
      e.preventDefault();

      const form = e.target;
      const data = {
        name: form.name.value,
        phone: form.phone.value,
        deliveryDate: form.deliveryDate.value,
        customMessage: form.customMessage.value || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡πÄ‡∏Ñ‡πâ‡∏Å',
        additionalDetails: form.additionalDetails.value || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°',
      };

      try {
        const response = await fetch("https://eowdyrkav1fn3ne.m.pipedream.net", {
          // ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™‡πà Firebase Functions endpoint ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô:
          // "https://us-central1-cheatcake-order-2025.cloudfunctions.net/api/sendLineOrder"
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        });

        if (response.ok) {
          form.reset();
          document.getElementById('successMessage').classList.remove('hidden');
        } else {
          alert("‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á");
        }
      } catch (error) {
        console.error("Error:", error);
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á");
      }
    });
  </script>
</body>
</html>
